<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArcaneSigil</title>
    <!-- Core CSS -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/typography.css">
    <!-- Layout and Modules CSS -->
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/glass.css">
    <link rel="stylesheet" href="css/editor.css">
    <link rel="stylesheet" href="css/canvas.css">
    <link rel="stylesheet" href="css/controls.css">
    <link rel="stylesheet" href="css/debug.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/scrollbars.css">
    <link rel="stylesheet" href="css/effects.css">
</head>

<body>
    <div id="app-container" class="glass-container">
        <!-- Editor Section -->
        <section id="editor-section" class="glass-panel">
            <div class="panel-header">
                <h2>Spell Matrix (Code Editor)</h2>
                <div class="header-controls">
                    <button id="btn-compile" class="glass-btn primary" title="Compile and draw sigil">Compile
                        Sigil</button>
                    <button id="btn-execute" class="glass-btn secondary" title="Execute script AST">Execute</button>
                    <button id="btn-reset" class="glass-btn danger" title="Clear all">Clear</button>
                </div>
            </div>
            <div class="editor-wrapper">
                <textarea id="code-input" spellcheck="false"
                    placeholder="// Write your arcane logic here..."></textarea>
            </div>
        </section>

        <!-- Visualization/Renderer Section -->
        <section id="render-section" class="glass-panel">
            <div class="panel-header">
                <h2>Projection Field</h2>
                <div id="debug-toggle-wrapper">
                    <button id="btn-toggle-ast" class="glass-btn small-btn">AST View</button>
                </div>
            </div>
            <div id="canvas-container">
                <canvas id="sigil-canvas"></canvas>
            </div>

            <!-- Output Console inside Render Section -->
            <div id="console-output" class="glass-panel inner-panel">
                <h3>Execution Output</h3>
                <div id="output-log">Waiting for execution...</div>
            </div>

            <!-- AST Visualizer Overlay -->
            <div id="ast-overlay" class="glass-panel inner-panel hidden">
                <h3>AST Structure</h3>
                <pre id="ast-tree-view">N/A</pre>
            </div>
        </section>
    </div>

    <!-- Scripts: Utilities & Config -->
    <script src="js/core/config.js"></script>
    <script src="js/core/event_bus.js"></script>
    <script src="js/core/utils.js"></script>

    <!-- Scripts: UI -->
    <script src="js/ui/notifications.js"></script>
    <script src="js/ui/editor.js"></script>
    <script src="js/ui/debug_panel.js"></script>
    <script src="js/ui/controls.js"></script>

    <!-- Scripts: Compiler Lexer -->
    <script src="js/compiler/lexer/token_types.js"></script>
    <script src="js/compiler/lexer/token.js"></script>
    <script src="js/compiler/lexer/char_utils.js"></script>
    <script src="js/compiler/lexer/lexer_errors.js"></script>
    <script src="js/compiler/lexer/lexer.js"></script>

    <!-- Scripts: Compiler Parser -->
    <script src="js/compiler/parser/ast_nodes.js"></script>
    <script src="js/compiler/parser/ast_visitor.js"></script>
    <script src="js/compiler/parser/parse_errors.js"></script>
    <script src="js/compiler/parser/parser_utils.js"></script>
    <script src="js/compiler/parser/expression_parser.js"></script>
    <script src="js/compiler/parser/statement_parser.js"></script>
    <script src="js/compiler/parser/parser.js"></script>

    <!-- Scripts: Compiler Execution -->
    <script src="js/compiler/execution/runtime_errors.js"></script>
    <script src="js/compiler/execution/environment.js"></script>
    <script src="js/compiler/execution/callable.js"></script>
    <script src="js/compiler/execution/builtins.js"></script>
    <script src="js/compiler/execution/evaluator.js"></script>

    <!-- Scripts: Renderer -->
    <script src="js/renderer/polar_math.js"></script>
    <script src="js/renderer/glyphs.js"></script>
    <script src="js/renderer/ring_manager.js"></script>
    <script src="js/renderer/animator.js"></script>
    <script src="js/renderer/canvas_engine.js"></script>

    <!-- Core Main Entry -->
    <script src="js/core/system_info.js"></script>
    <script src="js/core/app.js"></script>
</body>

</html>