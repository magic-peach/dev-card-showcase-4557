<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ›ï¸ The Memory Palace</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background: #2a2a2a;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Cormorant Garamond', 'Times New Roman', serif;
        }
        
        .palace {
            width: 1000px;
            background: #e8d9c0;
            background-image: linear-gradient(45deg, #d4c3a5 25%, transparent 25%),
                              linear-gradient(-45deg, #d4c3a5 25%, transparent 25%);
            background-size: 40px 40px;
            border-radius: 40px;
            padding: 40px;
            box-shadow: 0 30px 50px #00000066, inset 0 0 0 10px #aa9f8c;
            border: 6px solid #8b7a62;
        }
        
        .palace-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: #aa9f8c;
            padding: 20px 40px;
            border-radius: 100px;
            color: #2e241a;
            border: 4px solid #5e4f3a;
        }
        
        .room-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin: 40px 0;
        }
        
        .room {
            aspect-ratio: 1;
            background: #c4b39b;
            border: 8px solid #7a6950;
            border-radius: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: 0.2s;
            box-shadow: inset 0 -15px 0 #5e4f3a, 0 10px 0 #3f3324;
            position: relative;
            overflow: hidden;
        }
        .room:hover {
            transform: translateY(-5px);
            box-shadow: inset 0 -15px 0 #5e4f3a, 0 15px 0 #3f3324;
        }
        .room.opened {
            background: #e6d5b8;
            border-color: #b8a78c;
        }
        
        .memory-item {
            font-size: 48px;
            filter: drop-shadow(2px 4px 4px #00000066);
            animation: appear 0.3s;
        }
        @keyframes appear {
            0% { transform: scale(0); opacity: 0; }
            80% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .room-number {
            font-size: 18px;
            color: #3f3324;
            margin-top: 10px;
        }
        
        .recall-panel {
            background: #7a6950;
            border-radius: 60px;
            padding: 30px;
            border: 6px solid #3f3324;
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        #recallInput {
            flex: 1;
            background: #f0e6d2;
            border: none;
            padding: 20px 30px;
            font-size: 24px;
            border-radius: 50px;
            font-family: 'Cormorant Garamond', serif;
            border: 4px solid #3f3324;
            outline: none;
        }
        
        .recall-btn {
            background: #3f3324;
            border: none;
            color: #f0e6d2;
            font-size: 28px;
            padding: 15px 40px;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Cormorant Garamond', serif;
            border-bottom: 6px solid #1f1912;
            transition: 0.05s linear;
        }
        .recall-btn:active {
            border-bottom-width: 2px;
            transform: translateY(4px);
        }
        
        .score-display {
            font-size: 32px;
            color: #ffd78c;
            text-shadow: 2px 2px 0 #3f3324;
        }
        
        .footsteps {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            justify-content: center;
            font-size: 24px;
            color: #5e4f3a;
        }
    </style>
</head>
<body>
    <div class="palace">
        <div class="palace-header">
            <div class="score-display">ğŸ§  MEMORY PALACE</div>
            <div class="score-display">SCORE: <span id="score">0</span>/9</div>
        </div>
        
        <div class="room-grid" id="roomGrid">
            <!-- Generated by JS -->
        </div>
        
        <div class="recall-panel">
            <input type="text" id="recallInput" placeholder="what memory did you hide?" autocomplete="off">
            <button class="recall-btn" id="recallBtn">ğŸ” RECALL</button>
        </div>
        
        <div class="footsteps" id="hint">
            ğŸšª open rooms to place memories
        </div>
    </div>

    <script>
        const memories = [
            'ğŸš', 'ğŸ“–', 'ğŸ­', 'â³', 'âš±ï¸', 'ğŸº', 'ğŸ”®', 'ğŸ—ï¸', 'ğŸ“œ',
            'âš“', 'ğŸ•¯ï¸', 'ğŸ§¿', 'ğŸ’', 'ğŸ†', 'ğŸ¨', 'ğŸª¶', 'ğŸ””', 'ğŸ§º'
        ];
        
        let rooms = [];
        let currentScore = 0;
        let placedMemories = {};
        let gamePhase = 'placing'; // 'placing' or 'recalling'
        
        function initRooms() {
            rooms = [];
            for (let i = 0; i < 9; i++) {
                rooms.push({
                    id: i,
                    memory: null,
                    opened: false
                });
            }
            renderRooms();
        }
        
        function renderRooms() {
            const grid = document.getElementById('roomGrid');
            grid.innerHTML = '';
            
            rooms.forEach((room, index) => {
                const roomDiv = document.createElement('div');
                roomDiv.className = `room ${room.opened ? 'opened' : ''}`;
                roomDiv.dataset.index = index;
                
                if (room.memory) {
                    const memorySpan = document.createElement('span');
                    memorySpan.className = 'memory-item';
                    memorySpan.textContent = room.memory;
                    roomDiv.appendChild(memorySpan);
                }
                
                const numberSpan = document.createElement('div');
                numberSpan.className = 'room-number';
                numberSpan.textContent = `room ${index + 1}`;
                roomDiv.appendChild(numberSpan);
                
                roomDiv.addEventListener('click', () => handleRoomClick(index));
                grid.appendChild(roomDiv);
            });
        }
        
        function handleRoomClick(index) {
            if (gamePhase === 'placing' && !rooms[index].opened) {
                // Place a random memory
                const randomMemory = memories[Math.floor(Math.random() * memories.length)];
                rooms[index].memory = randomMemory;
                rooms[index].opened = true;
                placedMemories[index] = randomMemory;
                
                document.getElementById('hint').innerHTML = 'âœ¨ memory placed! close your eyes and recall âœ¨';
                renderRooms();
                
                // Check if all rooms are filled
                if (rooms.every(r => r.opened)) {
                    gamePhase = 'recalling';
                    document.getElementById('hint').innerHTML = 'ğŸ” now recall where each memory is! type the room number (1-9) for each memory';
                }
            }
        }
        
        function handleRecall() {
            const input = document.getElementById('recallInput').value.trim();
            
            if (gamePhase === 'recalling') {
                // Try to interpret input: expecting "memory room" format or just memory
                let foundMatch = false;
                
                for (let i = 0; i < rooms.length; i++) {
                    if (rooms[i].memory && input.includes(rooms[i].memory)) {
                        // Found memory in input
                        if (!rooms[i].recalled) {
                            rooms[i].recalled = true;
                            currentScore++;
                            foundMatch = true;
                            
                            // Mark room as recalled
                            const roomElement = document.querySelector(`[data-index="${i}"]`);
                            roomElement.style.background = '#b8d9b0';
                            roomElement.style.borderColor = '#4a7a4a';
                        }
                        break;
                    }
                }
                
                if (!foundMatch && input.toLowerCase() === 'i give up') {
                    // Reveal all
                    for (let i = 0; i < rooms.length; i++) {
                        if (rooms[i].memory && !rooms[i].recalled) {
                            rooms[i].recalled = true;
                        }
                    }
                    currentScore = rooms.length;
                }
                
                document.getElementById('score').textContent = currentScore;
                
                if (currentScore === rooms.length) {
                    document.getElementById('hint').innerHTML = 'ğŸ‰ you have mastered the memory palace! ğŸ‰';
                }
            }
            
            document.getElementById('recallInput').value = '';
        }
        
        // Initialize
        initRooms();
        
        document.getElementById('recallBtn').addEventListener('click', handleRecall);
        document.getElementById('recallInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleRecall();
        });
    </script>
</body>
</html>