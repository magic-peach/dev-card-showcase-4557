<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autonomous Rover Pathfinding Sim</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <aside class="toolbar">
            <h2>Rover Controls</h2>
            <div class="controls">
                <button id="guide-btn" style="margin-bottom: 10px; background: #4caf50;">ðŸ“– How to Use</button>
                <button id="toggle-sim-btn">â–¶ Start Rover</button>
                <button id="reset-btn">ðŸ”„ Reset Position</button>
            </div>
            <div class="telemetry">
                <h3>Telemetry</h3>
                <p>Status: <span id="status-text">Idle</span></p>
                <p>Left Sensor: <span id="sensor-l">--</span> px</p>
                <p>Center Sensor: <span id="sensor-c">--</span> px</p>
                <p>Right Sensor: <span id="sensor-r">--</span> px</p>
            </div>
        </aside>

        <main class="workspace" id="workspace">
            <canvas id="sim-canvas"></canvas>
        </main>
    </div>

    <div id="guide-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>ðŸš™ Rover Simulation Guide</h2>
            <p>Welcome to the Autonomous Rover Sim! Here is how to interact with the engine:</p>
            
            <h3>1. The Controls ðŸŽ®</h3>
            <ul>
                <li>Click <strong>Start Rover</strong> to activate the rover's motors and let the autonomous navigation algorithm take over.</li>
                <li>Click <strong>Pause Rover</strong> at any time to freeze the simulation and inspect the sensor rays.</li>
                <li>Click <strong>Reset Position</strong> to teleport the rover back to the starting corner.</li>
            </ul>

            <h3>2. How it Works (The Physics) ðŸ§ </h3>
            <ul>
                <li><strong>You don't drive this rover!</strong> It drives itself using virtual ultrasonic sensors (just like a real Arduino obstacle-avoidance bot).</li>
                <li>It casts three mathematical "rays" (Left, Center, Right) using line-line intersection formulas to detect the maze walls.</li>
                <li>If the Center sensor detects a wall, the code forces the rover to slow down and turn toward the side with the most open space.</li>
            </ul>

            <h3>3. Reading the Telemetry ðŸ“Š</h3>
            <ul>
                <li>Watch the live numbers in the left panel. They show the exact distance to the nearest wall in pixels.</li>
                <li><strong>Green rays</strong> mean the path is clear.</li>
                <li><strong>Red rays</strong> trigger when the rover is dangerously close to a wall, forcing the steering algorithm to react!</li>
            </ul>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>