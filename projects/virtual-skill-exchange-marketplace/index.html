<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Skill Exchange Marketplace</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f7f9fb; margin: 0; }
        .container { max-width: 700px; margin: 40px auto; background: #fff; border-radius: 16px; box-shadow: 0 4px 24px rgba(126,87,194,0.12); padding: 36px 28px; }
        h1, h2 { color: #7e57c2; text-align: center; }
        nav { display: flex; justify-content: center; gap: 16px; margin-bottom: 24px; }
        nav button { background: linear-gradient(90deg, #7e57c2 60%, #5bc0be 100%); color: #fff; border: none; border-radius: 8px; padding: 10px 22px; font-size: 1.05rem; cursor: pointer; font-weight: 500; box-shadow: 0 2px 8px rgba(126,87,194,0.08); transition: background 0.2s; }
        nav button.active, nav button:hover { background: #3a506b; }
        section { display: none; margin-top: 22px; background: #f3e5f5; border-radius: 12px; padding: 18px 16px; box-shadow: 0 2px 8px rgba(126,87,194,0.07); }
        section.active { display: block; }
        .card { background: #fff; border-radius: 10px; box-shadow: 0 2px 8px rgba(126,87,194,0.08); padding: 14px 12px; margin-bottom: 14px; }
        label { display: block; margin: 8px 0 4px; }
        input, select, textarea { width: 100%; padding: 8px; border: 1px solid #cfd8dc; border-radius: 6px; font-size: 1rem; margin-bottom: 10px; }
        button[type="submit"] { background: #7e57c2; color: #fff; border: none; border-radius: 6px; padding: 10px 24px; font-size: 1.1rem; cursor: pointer; transition: background 0.2s; }
        button[type="submit"]:hover { background: #5e35b1; }
        .skill-list, .request-list { list-style: none; padding: 0; }
        .skill-list li, .request-list li { background: #ede7f6; border-radius: 8px; margin-bottom: 10px; padding: 10px 12px; }
        .tag { display: inline-block; background: #7e57c2; color: #fff; border-radius: 4px; padding: 2px 8px; font-size: 0.9em; margin-right: 6px; }
        .success { color: #388e3c; text-align: center; margin: 10px 0; }
        .error { color: #d32f2f; text-align: center; margin: 10px 0; }
        .connect-btn { background: #5bc0be; color: #fff; border: none; border-radius: 6px; padding: 6px 16px; cursor: pointer; float: right; }
        .connect-btn:hover { background: #3a506b; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Virtual Skill Exchange Marketplace</h1>
        <nav>
            <button id="navOffer" class="active">Offer Skills</button>
            <button id="navRequest">Request Skills</button>
            <button id="navBrowse">Browse & Connect</button>
        </nav>
        <section id="offerSection" class="active">
            <h2>List Your Skills</h2>
            <form id="offerForm" class="card">
                <label>Name (or Alias)</label>
                <input type="text" id="offerName" maxlength="32" required>
                <label>Skills You Offer (comma separated)</label>
                <input type="text" id="offerSkills" maxlength="100" required placeholder="e.g. Coding, Design, Tutoring">
                <button type="submit">Add Offer</button>
            </form>
            <div id="offerStatus"></div>
            <h3>All Skill Offers</h3>
            <ul id="skillList" class="skill-list"></ul>
        </section>
        <section id="requestSection">
            <h2>Request Skills</h2>
            <form id="requestForm" class="card">
                <label>Name (or Alias)</label>
                <input type="text" id="requestName" maxlength="32" required>
                <label>Skills You Want (comma separated)</label>
                <input type="text" id="requestSkills" maxlength="100" required placeholder="e.g. Language, Web Design">
                <button type="submit">Add Request</button>
            </form>
            <div id="requestStatus"></div>
            <h3>All Skill Requests</h3>
            <ul id="requestList" class="request-list"></ul>
        </section>
        <section id="browseSection">
            <h2>Browse & Connect</h2>
            <div class="card">
                <label>Skill to Search:</label>
                <input type="text" id="searchSkill" maxlength="40" placeholder="e.g. Coding">
                <button id="searchBtn" type="button">Search</button>
            </div>
            <div id="searchResults"></div>
        </section>
    </div>
    <script>
        // Navigation
        const navOffer = document.getElementById('navOffer');
        const navRequest = document.getElementById('navRequest');
        const navBrowse = document.getElementById('navBrowse');
        const offerSection = document.getElementById('offerSection');
        const requestSection = document.getElementById('requestSection');
        const browseSection = document.getElementById('browseSection');
        function showSection(section) {
            [offerSection, requestSection, browseSection].forEach(s => s.classList.remove('active'));
            section.classList.add('active');
            [navOffer, navRequest, navBrowse].forEach(b => b.classList.remove('active'));
            if(section===offerSection) navOffer.classList.add('active');
            if(section===requestSection) navRequest.classList.add('active');
            if(section===browseSection) navBrowse.classList.add('active');
        }
        navOffer.onclick = () => showSection(offerSection);
        navRequest.onclick = () => showSection(requestSection);
        navBrowse.onclick = () => showSection(browseSection);
        // Offer logic
        const offerForm = document.getElementById('offerForm');
        const offerName = document.getElementById('offerName');
        const offerSkills = document.getElementById('offerSkills');
        const offerStatus = document.getElementById('offerStatus');
        const skillList = document.getElementById('skillList');
        let offers = JSON.parse(localStorage.getItem('skillExchangeOffers')||'[]');
        function renderOffers() {
            skillList.innerHTML = '';
            offers.forEach((o,i) => {
                if(o.likes === undefined) o.likes = 0;
                const li = document.createElement('li');
                li.innerHTML = `<b>${o.name}</b><br><span class="tag">Offers:</span> ${o.skills.join(', ')} <button class="connect-btn" onclick="alert('Connect with '+${JSON.stringify(o.name)})">Connect</button> <button class="like-btn" onclick="likeOffer(${i})">üëç Like <span>${o.likes}</span></button>`;
                skillList.appendChild(li);
            });
            localStorage.setItem('skillExchangeOffers',JSON.stringify(offers));
        }
        window.likeOffer = function(idx) {
            offers[idx].likes = (offers[idx].likes||0)+1;
            localStorage.setItem('skillExchangeOffers',JSON.stringify(offers));
            renderOffers();
        }
        }
        offerForm.onsubmit = e => {
            e.preventDefault();
            const name = offerName.value.trim()||'Anonymous';
            const skills = offerSkills.value.split(',').map(s=>s.trim()).filter(Boolean);
            if(!skills.length) { offerStatus.innerHTML = '<div class="error">Please enter at least one skill offered.</div>'; return; }
            offers.push({name,skills});
            localStorage.setItem('skillExchangeOffers',JSON.stringify(offers));
            offerStatus.innerHTML = '<div class="success">Offer added!</div>';
            renderOffers();
            offerForm.reset();
        };
        renderOffers();
        // Request logic
        const requestForm = document.getElementById('requestForm');
        const requestName = document.getElementById('requestName');
        const requestSkills = document.getElementById('requestSkills');
        const requestStatus = document.getElementById('requestStatus');
        const requestList = document.getElementById('requestList');
        let requests = JSON.parse(localStorage.getItem('skillExchangeRequests')||'[]');
        function renderRequests() {
            requestList.innerHTML = '';
            requests.forEach((r,i) => {
                const li = document.createElement('li');
                li.innerHTML = `<b>${r.name}</b><br><span class="tag">Wants:</span> ${r.skills.join(', ')}`;
                requestList.appendChild(li);
            });
        }
        requestForm.onsubmit = e => {
            e.preventDefault();
            const name = requestName.value.trim()||'Anonymous';
            const skills = requestSkills.value.split(',').map(s=>s.trim()).filter(Boolean);
            if(!skills.length) { requestStatus.innerHTML = '<div class="error">Please enter at least one skill wanted.</div>'; return; }
            requests.push({name,skills});
            localStorage.setItem('skillExchangeRequests',JSON.stringify(requests));
            requestStatus.innerHTML = '<div class="success">Request added!</div>';
            renderRequests();
            requestForm.reset();
        };
        renderRequests();
        // Browse & Connect
        const searchSkill = document.getElementById('searchSkill');
        const searchBtn = document.getElementById('searchBtn');
        const searchResults = document.getElementById('searchResults');
        searchBtn.onclick = () => {
            const skill = searchSkill.value.trim().toLowerCase();
            if(!skill) { searchResults.innerHTML = '<div class="error">Enter a skill to search.</div>'; return; }
            const matches = offers.filter(o=>o.skills.some(s=>s.toLowerCase().includes(skill)));
            if(!matches.length) { searchResults.innerHTML = '<div class="error">No matches found.</div>'; return; }
            searchResults.innerHTML = '<h4>Matching Offers:</h4>';
            matches.forEach(m => {
                const div = document.createElement('div');
                div.className = 'card';
                const idx = offers.indexOf(m);
                div.innerHTML = `<b>${m.name}</b><br><span class="tag">Offers:</span> ${m.skills.join(', ')} <button class="connect-btn" onclick="alert('Connect with '+${JSON.stringify(m.name)})">Connect</button> <button class="like-btn" onclick="likeOffer(${idx})">üëç Like <span>${m.likes||0}</span></button>`;
                searchResults.appendChild(div);
            });
        };
    </script>
</body>
</html>
